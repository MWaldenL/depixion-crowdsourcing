(function(e){function t(t){for(var n,r,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={app:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"05e7":function(e,t,a){"use strict";a("752f")},"13f5":function(e,t,a){e.exports=a.p+"img/sample.10b4aee7.png"},"1f28":function(e,t,a){},3205:function(e,t,a){"use strict";a("1f28")},"38b3":function(e,t,a){e.exports=a.p+"img/homebg3.e4aabb02.jpg"},"444b":function(e,t,a){e.exports=a.p+"img/homebg1.5bc6e986.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-div",attrs:{id:"app"}},[e.isLoggedIn?a("NavProfile"):e._e(),a("router-view")],1)},i=[],r=(a("d3b7"),a("260b"));a("ea7b"),a("e71f");r["a"].initializeApp({apiKey:"AIzaSyCVukmRyawQSF2v8PVXB4L-hAaBuf4Ka5A",authDomain:"depixion-crowd.firebaseapp.com",projectId:"depixion-crowd",storageBucket:"depixion-crowd.appspot.com",messagingSenderId:"810480073996",appId:"1:810480073996:web:f88c3a83c905f535b35d29"}),r["a"].getCurrentUser=function(){return new Promise((function(e,t){var a=r["a"].auth().onAuthStateChanged((function(t){a(),e(t)}),t)}))};var s=r["a"].firestore(),c=r["a"].auth(),l=s.collection("users"),u=(s.collection("paintings"),s.collection("responses"),s.collection("evaluations")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{staticClass:"d-sm-none p-3",attrs:{toggleable:"lg",id:"nav-sm"}},[a("h2",{staticClass:"nav-sm-title"},[a("b",[e._v("DepiXion")])]),a("b-navbar-toggle",{staticClass:"nav-sm-title",attrs:{target:"nav-collapse"}}),a("b-collapse",{staticClass:"mt-3",attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.us-modal",modifiers:{"us-modal":!0}}],staticClass:"my-2",attrs:{variant:"secondary"}},[e._v("About the Study")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.dp-modal",modifiers:{"dp-modal":!0}}],staticClass:"my-2",attrs:{variant:"success"}},[e._v("View Data Privacy")])],1)],1)],1),a("div",{staticClass:"p-3 d-none d-sm-flex flex-sm-row justify-content-sm-between",attrs:{id:"nav"}},[e._m(0),a("b-button-toolbar",[a("b-button-group",{staticClass:"mx-1"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.us-modal",modifiers:{"us-modal":!0}}],staticClass:"nav-btn",attrs:{variant:"link"}},[e._v("About the Study")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.dp-modal",modifiers:{"dp-modal":!0}}],staticClass:"nav-btn",attrs:{variant:"link"}},[e._v("Data Privacy")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.is-modal",modifiers:{"is-modal":!0}}],staticClass:"nav-btn",attrs:{variant:"link"}},[e._v("Instructions")])],1)],1),a("b-modal",{attrs:{id:"dp-modal",size:"xl",centered:"","hide-header-close":"","ok-only":"","ok-variant":"success"},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("div",[a("h2",[a("b",[e._v("DepiXion")])]),a("h4",[e._v("Generating Abstract Art Based on a User-Specified Emotion Spectrum")])])]},proxy:!0}])},[a("h4",[a("sub",[e._v("Data Privacy Statement")])]),a("br"),a("p",[e._v(" In compliance with the Philippine Data Privacy Act (DPA) of 2012, and its Implementing Rules and Regulations (IRR) effective since September 9, 2016, I am hereby giving consent to the proponents of this research to do the following: "),a("ol",{staticClass:"my-4"},[a("li",[e._v(" Collection of my personal data which includes, but is not limited to, my name, contact number, email address, and educational background for the purpose of the research at hand with provisions for accessibility, updates, and corrections on my end; ")]),a("li",[e._v(" Minimal processing of any given information for non-commercial information dissemination given that it does not alter the meaning, essence and the origin of anything given; ")]),a("li",[e._v(" Storage of files within the premises of De La Salle University as well as official electronic storage locations such as on-premise storage servers or DLSU subscribed cloud storage services with access to the information limited to the researchers and their thesis adviser; ")]),a("li",[e._v(" Disposal of any and all collected media files and personal data, and scrubbing of any storage devices containing said data including the social media page/s (if any) at the end of AY 2021 - 2021, on November 1, 2022, or upon my submission of a written cancellation, whichever comes first. ")]),a("li",[e._v(" The researchers must notify me within a period of twenty four (24) hours after they suspect or become aware of any unauthorized access and security breach of my personal information; and promptly take all reasonable steps, at their own expense, to prevent or stop, any unauthorized access and security breach and comply with the Data Privacy Act of 2012 in the event of a breach. ")])]),e._v(" For any concern regarding the information collected, shared and stored by the researchers, I may reach them through their email addresses or privacy.officer@dlsu.edu.ph. By continuing with this form, I understand and am assured that necessary precautions will be taken by De La Salle University and the researchers to protect my personal information and recognize that improper use of the information (online, offline, or printed) will be subjected to appropriate actions under the Data Privacy Act of 2012 and the institutionâ€™s Student Handbook. ")])]),a("b-modal",{attrs:{id:"us-modal",size:"xl",title:"DepiXion",centered:"","hide-header-close":"","ok-only":"","ok-variant":"success"},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("div",[a("h2",[a("b",[e._v("DepiXion")])]),a("h4",[e._v("Generating Abstract Art Based on a User-Specified Emotion Spectrum")])])]},proxy:!0}])},[a("h4",[a("sub",[e._v("About the Study")])]),a("br"),a("p",[e._v(" Hello! "),a("br"),a("br"),e._v(' We are Keith, Mats, and Byron, senior students from the College of Computer Studies of De La Salle University - Manila taking up BS Computer Science with specializations in Software Technology. We are currently working on our thesis project entitled "Generating Abstract Art Based on a User-Specified Emotion Spectrum". Our goal is to build a software that can create abstract paintings through emotions, and we need your help! '),a("br"),a("br"),e._v(" In answering the survey in this website, you will be shown 10 abstract paintings, and you will tell us the emotions that you feel from them. You will be allowed to answer the survey again if you wish to do so. "),a("br"),a("br"),e._v(" For any concerns or questions regarding this website or our project, in general, you may reach us through "),a("a",{attrs:{href:"mailto: depixion.2022@gmail.com"}},[e._v("depixion.2022@gmail.com")]),e._v(". "),a("br"),a("br"),e._v(" Thank you very much for your interest in our study! ")])]),a("b-modal",{attrs:{id:"is-modal",size:"xl",centered:"","hide-header-close":"","ok-only":"","ok-variant":"success"},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("div",[a("h2",[a("b",[e._v("DepiXion")])]),a("h4",[e._v("Generating Abstract Art Based on a User-Specified Emotion Spectrum")])])]},proxy:!0}])},[a("h4",[a("sub",[e._v("Instructions")])]),a("br"),a("div",{staticClass:"d-flex align-items-center justify-content-center"},[a("b-img",{staticClass:"tut-img mb-4",attrs:{fluid:"",src:e.tutImg}})],1),a("p",{staticClass:"col-lg-6 mx-auto text-center"},[e._v(" Ten different images of abstract paintings will be displayed. For each image, you will be tasked to label them based on the emotions you feel. If you feel that the painting evokes that emotion in you, simply click or tap on the checkbox next to it. "),a("em",[e._v("You can select multiple emotions.")]),e._v(" You can remove the label by clicking on the checkbox again. ")]),a("p",{staticClass:"col-lg-6 mx-auto text-center"},[a("b",[e._v("Note:")]),e._v(" You cannot go back to the previous image when proceeding to the next. ")])])],1)],1)},m=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",{staticClass:"m-0",attrs:{id:"nav-title"}},[a("b",[e._v("DepiXion")])])}],h={name:"NavProfile",created:function(){this.tutImg=a("13f5")},data:function(){return{tutImg:""}}},p=h,f=(a("624b"),a("2877")),v=Object(f["a"])(p,d,m,!1,null,"69f427e7",null),b=v.exports,g=a("9e21"),y=a.n(g);n["default"].use(y.a,{configuration:{cloudName:"kbadulis"}});var w={name:"App",created:function(){var e=this;c.onAuthStateChanged((function(t){e.isLoggedIn=null!==t,e.setUser(t)}))},data:function(){return{user:null,isLoggedIn:!1}},components:{NavProfile:b},methods:{setUser:function(e){this.user=e},logout:function(){this.$router.push("/"),c.signOut().catch((function(e){return console.log(e)}))}}},x=w,_=(a("034f"),Object(f["a"])(x,o,i,!1,null,null,null)),k=_.exports,C=a("2b27"),S=a.n(C),j=a("1da1"),I=(a("96cf"),a("b0c0"),a("caad"),a("2532"),a("8c4f")),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex main-div",attrs:{id:"home"}},[a("Primer",{directives:[{name:"show",rawName:"v-show",value:!e.user,expression:"!user"}],on:{enter:e.enterSurvey}})],1)},L=[],P=(a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row gx-0"},[a("img",{staticClass:"col-xl-8 px-0",attrs:{src:e.background,id:"bg-image"}}),a("div",{staticClass:"ml-auto col-xl p-5",style:{backgroundColor:e.backgroundColor},attrs:{id:"primer"}},[a("h2",{style:{color:e.color}},[a("b",[e._v("DepiXion")])]),a("h4",{style:{color:e.color}},[e._v("Generating Abstract Art Based on a User-Specified Emotion Spectrum")]),a("br"),a("p",{style:{color:e.color}},[e._v(" Hello! "),a("br"),a("br"),e._v(' We are Keith, Mats, and Byron, senior students from the College of Computer Studies of De La Salle University - Manila taking up BS Computer Science with specializations in Software Technology. We are currently working on our thesis project entitled "Generating Abstract Art Based on a User-Specified Emotion Spectrum". Our goal is to build a software that can create abstract paintings through emotions, and we need your help! '),a("br"),a("br"),e._v(" In answering the survey in this website, you will be shown 10 abstract paintings, and you will tell us the emotions that you feel from them. You will be allowed to answer the survey again if you wish to do so. "),a("br"),a("br"),e._v(" For any concerns or questions regarding this website or our project, in general, you may reach us through "),a("a",{style:{color:e.color},attrs:{href:"mailto: depixion.2022@gmail.com"}},[e._v("depixion.2022@gmail.com")]),e._v(". "),a("br"),a("br"),e._v(" Thank you very much for your interest in our study! Please click the button below to proceed with the survey. "),a("br"),a("br"),a("strong",[e._v("P.S. This survey contains a completion code for SurveySwap.io")])]),a("div",{staticClass:"d-flex justify-content-center"},[a("b-button",{staticClass:"w-100",attrs:{variant:"success"},on:{click:e.login}},[e._v("Enter Survey")])],1),a("br"),a("small",{style:{color:e.color}},[a("p",[e._v("Notice: ")]),e._v(" This website utilizes cookies to take note of the paintings that you have already evaluated. Should you wish to evaluate more paintings, you may enter this website again and proceed with the survey. "),a("hr"),e._v(" For more information, you can view our data privacy statement "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.dp-modal",modifiers:{"dp-modal":!0}}],style:{color:e.color},attrs:{href:"#"}},[e._v("here")]),e._v(". ")]),a("b-modal",{attrs:{id:"dp-modal",size:"xl",centered:"","hide-header-close":"","ok-only":""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[a("div",[a("h2",[a("b",[e._v("DepiXion")])]),a("h4",[e._v("Generating Abstract Art Based on a User-Specified Emotion Spectrum")])])]},proxy:!0}])},[a("h4",[a("sub",[e._v("Data Privacy Statement")])]),a("br"),a("p",[e._v(" In compliance with the Philippine Data Privacy Act (DPA) of 2012, and its Implementing Rules and Regulations (IRR) effective since September 9, 2016, I am hereby giving consent to the proponents of this research to do the following: "),a("ol",{staticClass:"my-4"},[a("li",[e._v(" Collection of my personal data which includes, but is not limited to, my name, contact number, email address, and educational background for the purpose of the research at hand with provisions for accessibility, updates, and corrections on my end; ")]),a("li",[e._v(" Minimal processing of any given information for non-commercial information dissemination given that it does not alter the meaning, essence and the origin of anything given; ")]),a("li",[e._v(" Storage of files within the premises of De La Salle University as well as official electronic storage locations such as on-premise storage servers or DLSU subscribed cloud storage services with access to the information limited to the researchers and their thesis adviser; ")]),a("li",[e._v(" Disposal of any and all collected media files and personal data, and scrubbing of any storage devices containing said data including the social media page/s (if any) at the end of AY 2021 - 2021, on November 1, 2022, or upon my submission of a written cancellation, whichever comes first. ")]),a("li",[e._v(" The researchers must notify me within a period of twenty four (24) hours after they suspect or become aware of any unauthorized access and security breach of my personal information; and promptly take all reasonable steps, at their own expense, to prevent or stop, any unauthorized access and security breach and comply with the Data Privacy Act of 2012 in the event of a breach. ")])]),e._v(" For any concern regarding the information collected, shared and stored by the researchers, I may reach them through their email addresses or privacy.officer@dlsu.edu.ph. By continuing with this form, I understand and am assured that necessary precautions will be taken by De La Salle University and the researchers to protect my personal information and recognize that improper use of the information (online, offline, or printed) will be subjected to appropriate actions under the Data Privacy Act of 2012 and the institutionâ€™s Student Handbook. ")])])],1)])}),D=[],O={name:"Primer",data:function(){return{background:"",backgroundColor:"",color:""}},created:function(){var e=Math.floor(5*Math.random())+1;this.background=a("d1e7e")("./homebg"+e+".jpg"),e=Math.floor(2*Math.random()),this.backgroundColor=0===e?"#e6e6e6":"#333333",this.color=0===e?"#333333":"#e6e6e6"},methods:{login:function(){this.$emit("enter")}}},R=O,T=(a("cc49"),Object(f["a"])(R,P,D,!1,null,"15def695",null)),U=T.exports,E={name:"Home",methods:{enterSurvey:function(){this.$router.push("/survey")},setUser:function(e){this.user=e}},components:{Primer:U},created:function(){var e=this;document.title="DepiXion | Login",c.onAuthStateChanged((function(t){e.setUser(t)}))},mounted:function(){var e=this;u.get().then((function(t){var a,n;t.forEach((function(t){a=t.data(),n={user:a.user,painting:a.painting,joy:a.labels[0].value,trust:a.labels[1].value,fear:a.labels[2].value,surprise:a.labels[3].value,sadness:a.labels[4].value,disgust:a.labels[5].value,anger:a.labels[6].value,anticipation:a.labels[7].value},e.docs.push(n)}))}))},data:function(){return{user:null,docs:[]}}},N=E,B=(a("05e7"),Object(f["a"])(N,A,L,!1,null,"19d37619",null)),M=B.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("div",{staticClass:"px-md-4 pt-4 main-div"},[e.completed?a("div",{staticClass:"col-lg-10 mx-auto"},[a("b-card",{staticClass:"form-card p-4 text-center"},[a("h3",{staticClass:"display-5 fw-bold mb-4"},[e._v("Thank you!")]),a("p",{staticClass:"col-lg-8 mx-auto"},[e._v(" We truly appreciate your contribution to our study. If you have any questions, feel free to reach out to us. Our contact details are available on the "),a("i",[e._v("About the Study")]),e._v(" page. If you want to contribute more and earn more points, you can click the button below and label a new set of paintings. ")]),a("p",{staticClass:"col-lg-8 mx-auto"},[e._v(" The following code gives you credits that can be used to get free research participants at SurveySwap.io. Go to: https://surveyswap.io/sr/VY51-HEFL-KTIP Or, alternatively, enter the code manually: VY51-HEFL-KTIP ")]),a("b-button",{staticClass:"mt-2",attrs:{variant:"success"},on:{click:e.startNewSurvey}},[e._v(" Label more paintings ")])],1)],1):e.tutored?a("div",{staticClass:"col-lg-10 mx-auto"},[a("b-card",{staticClass:"p-lg-4"},[a("b-container",[a("div",{staticClass:"\n                            mb-4\n                            d-flex\n                            justify-content-between\n                            align-items-center\n                            flex-wrap"},[a("h3",{staticClass:"fw-bold"},[e._v(" How does this painting make you feel? ")])]),a("b-row",[a("b-col",{staticClass:"mt-0 mb-md-0 mb-4 d-flex justify-content-center",attrs:{cols:"12",md:"7"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoaded,expression:"isLoaded"}],staticClass:"form-img-container"},[a("b-img",{staticClass:"form-img mx-auto",attrs:{src:e.imgSrc,"fluid-grow":"",alt:"Abstract Painting"},on:{load:e.onImageLoaded,error:e.onImageError}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoaded,expression:"!isLoaded"}],staticClass:"loading-wrapper mx-auto flex-column"},[a("b-spinner",{staticClass:"mb-2",attrs:{variant:"success"}}),a("span",{staticClass:"text-muted"},[e._v("Loading image...")])],1)]),a("b-col",{staticClass:"my-auto"},[e._l(e.emotionLabels,(function(t){return a("b-container",{key:t.emotion},[a("div",{staticClass:"\n                                        row\n                                        mb-2\n                                        label-row\n                                        align-items-center\n                                    "},[a("b-form-checkbox",{attrs:{value:"1","unchecked-value":"0"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"lbl.value"}},[a("div",[e._v(e._s(t.emotion))])])],1)])})),a("b-container",{staticClass:"\n                                    d-flex\n                                    flex-column\n                                    align-items-center\n                                    mt-4\n                                "},[a("b-button",{staticClass:"button-submit",class:e.isDisabled,attrs:{variant:"success"},on:{click:e.nextPage}},[this.page<10?a("span",[e._v(" Next ")]):a("span",[e._v(" Finish ")])])],1),a("p",{staticClass:"text-center mt-2",class:e.textColor},[e._v(" Please select at least one emotion label ")])],2)],1)],1),a("br"),a("div",{staticClass:"\n                        container\n                        d-flex\n                        justify-content-between\n                        align-items-end\n                    "},[a("div",{staticClass:"col mr-4"},[a("b-progress",{staticClass:"mr-3",attrs:{value:e.page,max:10,"show-value":"",variant:"success"}})],1)])],1)],1):a("div",{staticClass:"col-lg-10 mx-auto"},[a("b-card",{staticClass:"p-2 d-flex flex-column align-items-center text-center"},[a("h3",{staticClass:"fw-bold mb-4"},[e._v("Emotion Labeling Reminders")]),a("b-img",{staticClass:"tut-img mb-4",attrs:{fluid:"",src:e.tutImg}}),a("p",{staticClass:"col-lg-6 mx-auto"},[e._v(" Ten different images of abstract paintings will be displayed. For each image, you will be tasked to label them based on the emotions you feel. If you feel that the painting evokes that emotion in you, simply click or tap on the checkbox next to it. "),a("em",[e._v("You can select multiple emotions.")]),e._v(" You can remove the label by clicking on the checkbox again. ")]),a("p",{staticClass:"col-lg-6 mx-auto"},[a("b",[e._v("Note:")]),e._v(" You cannot go back to the previous image when proceeding to the next. ")]),a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1},model:{value:e.dontShowTutorial,callback:function(t){e.dontShowTutorial=t},expression:"dontShowTutorial"}},[e._v(" Don't show me this again. ")]),a("b-button",{staticClass:"mt-2",attrs:{variant:"success"},on:{click:function(t){e.tutored=!0}}},[e._v(" Begin answering ")])],1)],1)]):a("div",{staticClass:"h-100 d-flex justify-content-center align-items-center"},[a("b-spinner",{attrs:{variant:"success"}})],1)},z=[],$=(a("ac1f"),a("1276"),a("99af"),a("a434"),a("d81d"),{created:function(){document.title="DepiXion | Survey",this.tutImg=a("13f5")},mounted:function(){var e=this;this.tutored=Boolean(this.$cookies.get("showTutorial")),r["a"].auth().onAuthStateChanged(function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a?(e.user=a.uid,l.doc(a.uid).get().then((function(t){t.exists||l.doc(e.user).set({points:0,paintingsAnnotated:[]}),e.fetchImages().then((function(){e.fetchFormInfo()}))}))):r["a"].auth().signInAnonymously();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},data:function(){return{user:null,loaded:!1,userAnnotated:[],imageList:[],brokenImages:[],emotionLabels:[{emotion:"Joy",value:0},{emotion:"Trust",value:0},{emotion:"Fear",value:0},{emotion:"Surprise",value:0},{emotion:"Sadness",value:0},{emotion:"Disgust",value:0},{emotion:"Anger",value:0},{emotion:"Anticipation",value:0}],points:null,page:1,dontShowTutorial:!1,tutored:!1,tutImg:"",textColor:"text-white"}},watch:{dontShowTutorial:function(e,t){t!=e&&this.$cookies.set("showTutorial",t)}},computed:{completed:function(){return 11==this.page},imgSrc:function(){var e=this.imageList[this.page-1];return e?e.url:""},isLoaded:function(){return this.imageList[this.page-1]&&this.loaded},isDisabled:function(){return{disabled:!this.loaded}}},methods:{onImageLoaded:function(){this.loaded=!0},onImageError:function(e){var t=this.imageList[this.page-1];this.brokenImages.push(t),this.replaceBrokenImage(t)},startNewSurvey:function(){var e=this;this.page=0,this.fetchImages().then((function(){e.fetchFormInfo()}))},getRemoteList:function(){return Object(j["a"])(regeneratorRuntime.mark((function e(){var t,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://res.cloudinary.com/kbadulis/raw/upload/v1652111820/pool-eval.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.resources,o="https://res.cloudinary.com/kbadulis/image/upload/v1652108590/eval-images/",e.abrupt("return",{list:n,urlPrefix:o});case 9:case"end":return e.stop()}}),e)})))()},replaceBrokenImage:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function a(){var n,o,i,r,s,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getRemoteList();case 2:n=a.sent,o=n.list,i=n.urlPrefix;do{r=Math.floor(Math.random()*o.length),l=o[r].public_id.split("/")[1],s="".concat(l.split("_")[0],".jpg"),c="".concat(i).concat(l,".jpg")}while(t.userAnnotated.includes(s));u=t.imageList.indexOf(e),t.imageList.splice(u,1,{url:c,img:s});case 8:case"end":return a.stop()}}),a)})))()},fetchImages:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i,r,s,c,u,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.doc(e.user).get();case 2:return a=t.sent,n=a.data(),e.userAnnotated=n.paintingsAnnotated,e.imageList=[],t.next=8,e.getRemoteList();case 8:for(o=t.sent,i=o.list,r=o.urlPrefix,s=0;s<10;s++){c=void 0,u=void 0,d=void 0,m=void 0;do{c=Math.floor(Math.random()*i.length),m=i[c].public_id.split("/")[1],u="".concat(m.split("_")[0],".jpg"),d="".concat(r).concat(m,".jpg")}while(e.userAnnotated.includes(u)&&e.brokenImages.includes(u));e.imageList.push({url:d,img:u})}case 12:case"end":return t.stop()}}),t)})))()},fetchFormInfo:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=l.doc(e.user),t.next=3,a.get().then((function(t){return e.points=t.data().points}));case 3:e.page=e.points/10%10+1;case 4:case"end":return t.stop()}}),t)})))()},nextPage:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.emotionLabels.some((function(e){return e.value>0})),!a){t.next=13;break}return n=e.imageList[e.page-1].img,t.next=5,e.saveResponse(n);case 5:return t.next=7,e.writeImageToUser(n);case 7:e.loaded&&e.page++,e.loaded=!1,e.textColor="text-white",e.emotionLabels.map((function(e){return e.value=0})),t.next=14;break;case 13:e.textColor="text-danger";case 14:case"end":return t.stop()}}),t)})))()},saveResponse:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function a(){var n,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n=[],o=0;o<8;o++)i="1"===t.emotionLabels[o].value,n.push({emotion:t.emotionLabels[o].emotion,value:i});return a.next=4,u.doc().set({user:t.user,painting:e,labels:n});case 4:case"end":return a.stop()}}),a)})))()},writeImageToUser:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=l.doc(t.user),a.next=3,n.get();case 3:return o=a.sent.data().points,a.next=6,n.update({paintingsAnnotated:r["a"].firestore.FieldValue.arrayUnion(e),points:o+10});case 6:t.points=o+10;case 7:case"end":return a.stop()}}),a)})))()}}}),Y=$,H=(a("3205"),Object(f["a"])(Y,F,z,!1,null,null,null)),X=H.exports,G=a("2591");n["default"].use(I["a"]);var K=new I["a"]({mode:"history",routes:[{path:"/",name:"Home",component:M},{path:"/survey",name:"Survey",component:X}]});K.beforeEach(function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,a,n){var o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=["Home","Survey"],e.next=3,G["a"].getCurrentUser();case 3:i=e.sent,"Home"!==t.name&&o.includes(t.name)?n():i?n({path:"/survey"}):n();case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());var V=K,W=a("5f5b"),q=a("b1e0"),J=a("ecee"),Q=a("c074");a("f9e3"),a("2dd8");J["a"].add(Q["b"]),J["a"].add(Q["a"]),n["default"].use(W["a"]),n["default"].use(q["a"]),n["default"].use(S.a,{expire:"7d",secure:"true"}),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(k)},router:V}).$mount("#app")},"624b":function(e,t,a){"use strict";a("ae75")},"752f":function(e,t,a){},"840e":function(e,t,a){e.exports=a.p+"img/homebg2.f860f165.jpg"},"85ec":function(e,t,a){},"8a15":function(e,t,a){e.exports=a.p+"img/homebg5.fa3c01f5.jpg"},ae75:function(e,t,a){},ca63:function(e,t,a){},cc49:function(e,t,a){"use strict";a("ca63")},d1e7e:function(e,t,a){var n={"./homebg1-small.jpg":"d874","./homebg1.jpg":"444b","./homebg2.jpg":"840e","./homebg3.jpg":"38b3","./homebg4.jpg":"fc32","./homebg5.jpg":"8a15"};function o(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="d1e7e"},d874:function(e,t,a){e.exports=a.p+"img/homebg1-small.ffc3b355.jpg"},fc32:function(e,t,a){e.exports=a.p+"img/homebg4.f2965beb.jpg"}});
//# sourceMappingURL=app.5a35416a.js.map